
  高速MAMEランチャー「Retrofire」
  ビルド No.271

  Fujix (C) 2004 - 2024
  https://e2j.net/

  -------------------------------------------------

  高速起動と検索を目指した軽量MAMEランチャーです。
  以下のような機能があります:


  ◆ MAME本体からゲーム情報を取り込んで使用します。

  ◆ Backspaceで検索ボックスへ移動、DELキーで選択中のゲームの設定を削除。

  ◆ 各種フィルタ、年代、製造元、CPU、音源チップ、バージョンでの絞り込み。

  ◆ F12キーで日本語・英語の切り替え。

　◆ 大量の邪魔なギャンブルゲームや動かないピンボールゲームなどの非表示。

  ◆ スクリーンショットのフィルタ付き表示。アスペクト比の固定。
　　  スクリーンショット画像の検索は「snap\ゲーム名.png」→「snap\ゲーム名\0000.png」の順です。

  ◆ mameinfo.dat、history.dat、comman.datファイルの表示。
      デフォルトでは「dats」フォルダに配置します（変更可）。
      F8キーでコマンドビューアの表示切り替えをします。

  ◆ 簡易ROM検索機能。zip、7z、chdファイルの存在チェックのみで中身は確認しません。

  ◆ お気に入り機能。

  ◆ スクリーンショットクリーナー。zip名が変更され孤立した画像の削除、サブディレクトリ内の画像を
      zip名.pngに改名、不要ファイルの整理が可能です。

  ◆ バージョン毎のサポートゲームをまとめた version.iniファイルの使用。
      デフォルトでは「folders」ディレクトリに配置します（変更可能）。

  ◆ ドライバファイルのgithubページ一発表示や、Testersでの絞り込み。

  ◆ 複数のMAME本体を登録、切り替え起動。

  ◆ ジョイスティックで選択・起動。

  ◆ 日本語ゲーム名とよみがなの編集・保存機能。

  - ビルドNo.237から海外版history.datの改行形式に合わせました。改行1つが表示時にも改行
    1つになります。以前は改行2つが表示時に改行1つと処理されてました。

  - ビルドNo.238からデータファイル名がretrofire.resからretrofire.dataに変更されました。
    起動時に自動で改名します（ファイルがあれば）。
    
  - ビルドNo.260からネット経由での各種ファイル(日本語ゲーム名、history.dat、mameinfo.dat)の
    更新に対応しました。また、新しい本体が出ているかのチェックも行えます。
  
  - ビルドNo.265でソフトウェアリストをテストサポートしました。ソフトリスト機能が不要のときは、
    softlistsフォルダを削除してから起動してください。


■使い方
--------
  1) 初回起動時にゲームデータをMAME本体から取得します。対象のMAME本体を指定ししばらく待つと
     メイン画面が起動します（オフィシャルMAME以外は不具合が起こることがあります）

  2) 「オプション」→「MAME実行ファイル設定」を開き、起動するMAME本体を指定します。
     (起動ファイルとオプションの組み合わせは名前をつけて複数登録できます)

  3) MAME 本体と Retrofire 本体が違う場所にあるときは、「設定」→「ディレクトリ」で
     各ディレクトリを別途指定してください。

  4) 「ファイル」→「ROMを再検索」で、ROM検索します。

  5) ゲーム名をダブルクリックするか、EnterキーかF9キーを押すとゲームが起動します。


■便利な機能
------------
 - 編集パネルでmame32j.lstを直接編集し保存することができます。
 - 条件で絞る場合は右上のボタンをクリックし検索パネルを表示します。
 - [表示]メニューよりメカニカルゲームを隠すことができます(ピンボールなどを隠す場合)。
 - [表示]メニューより動作しないギャンブルゲームの大半を隠すことができます。
 - [設定]メニューよりMAMEの終了時にコマンドプロンプトを残すかどうかの指定ができます。


■こんなときは
--------------
  Q. MAMEの本体をアップデートしたらゲーム情報が正しく取得できなくなった
  A. MAMEが出力するデータファイルの形式が変更された可能性があります。なるべく早く対応するので
     待っていてください。または、サイトの方で教えてもらえると助かります。
     
  Q. ***MAMEからデータを取得したらうまく動きません
  A. 出力するデータファイルが古いか、たまたま動かない可能性があります。
     retrofire.data を一旦削除して、設定をやりなおすと動くかもしれません。


■MAMEのバージョンが上がったときは？
------------------------------------
  [オプション]→[ゲームリストを更新]でゲーム情報を再取得します。
  【注】バージョンアップに伴い、本体のゲーム情報出力が変更され正常に取得できないこと
        があるので、retrofire.dataファイルは事前にバックアップするのをおすすめします。


■日本語ゲーム名ファイルについて
--------------------------------
  同梱のmame32j.lstかmame32jp.lstのどちらかを本体と同じ場所に設置すればゲーム名を日本
  語表示します。


■command.datファイルについて
-----------------------------
  コマンド一覧ファイルcommand.datの表示に対応しています。command.datファイルを本体と同じ
  場所に配置して起動すると自動で読み込まれます。F8キーで表示切り替え可能。
  【注】現状のcommand.dat内で使われていない文字の一部をサポートしていません。


■ショートカットキー一覧
------------------------
  BackSpace, Ctrl+F … 検索ボックスにフォーカス移動
  ESC    … 検索をリセット
  Ctrl+E … 編集パネルを表示/隠す
  Ctrl+H … 検索バーを隠す/表示する
  Ctrl+Q … 終了
  Ctrl+W … 最小化
  F4     … 選択中ゲームのドライバファイルをGitHubで開く
  F6     … Command.datビューアの表示・非表示切り替え
  F5,F9  … 起動
  F12    … ゲーム名の日/英表示切替
  F7     … 選択中のゲームのドライバ名でMAMETestersを検索
  F8     … 選択中のゲームをEMMAで表示
  Ctrl+D … 選択中のゲームをお気に入りに追加
  DEL
         … 選択中のゲームの各種設定ファイル(cfg、nv、オートセーブ)を削除して初期状態
            に戻す
  Shift+ Enter（よみがなの場所で）
         … 次のゲームを選ぶ。大量のゲームによみがなを付ける作業を効率化するため


■inp再生
---------
  再生させたいinpファイルを選択するだけで再生が始まります。対象のゲームを選択する必要
  はありません。
  inpファイル名が「******@プロファイル名.inp」の場合、そのプロファイルで再生します。
  プロファイルが見つからない、または指定されていない場合は現在選択中のプロファイルで
  再生します。


■スクリーンショットのフィルタ
------------------------------
  なし(Nearest Neighbor)    … 超高速・最低品質
  バイリニア(Bilinear)      … 高速・中品質
  バイキュービック(Bicubic) … 中速・高品質
  ランチョス(Lanczos3)      … 低速・最高品質


■スクリーンショットのフォルダからの取り出し
--------------------------------------------
  スクリーンショット画像をの右クリックすると利用できます。
  「zip名\0000.png」として保存されているスクリーンショットを「zip名.png」に改名して、
  一つ上のフォルダへ移動します。残ったzip名フォルダは空の場合削除されます。


■スクリーンショットクリーナー機能
----------------------------------
  ZIP名が変更されて無効なショットや、フォルダ内に残っているもの、不要なファイルを一括
  して削除や改名するツールです。ファイルメニュー内にあります。削除先はゴミ箱なのでい
  ざというときは元に戻すことが可能です。


■対応予定のない機能
--------------------
  - snap以外の画像表示（Flyer, Marquee，他）
  - カスタムアイコン
  - ROM管理（高機能なROMマネージャがもうあるので）
  - mame.iniの設定機能（頻繁に更新されるので）


■使用上の注意と免責事項
------------------------
  このソフトウェアはフリーウェアです。商用目的の販売、配布、添付はできません。
  商用利用を発見した段階で一般公開を終了します。
　このソフトウェアは使用者の全責任において使用され、それにより生じた直接的または
  間接的な全ての結果について、作者は責任を負わず、また保証もしません。

  Graphics32 (C) 2000-2022 Alex A. Denisov and contributers


■謝辞
------
  テスト及びいろいろなアイディアを頂いたS氏
  同じくもう一人のS氏
  バグ出しして頂いたY氏
  チェックなどの協力を頂いたF氏
  制作のきっかけとなったMANE32ランチャーの作者さん


■最近のヒストリ
----------------
build 271:
 - command.dat ビューアの不足アイコンを追加。

build 270:
 - 各リストで CTRL+C を押すと選択中項目のZIP名をコピーする機能追加。

build 269:
 - ソフトウェアリストで日本語名だとセット種別がわからないので、英語名から取得するように改良。
 - リスト背景色の設定を廃止。
 - Windows 11 22H2 でのクラッシュ対策。

build 268:
 - github のリンク修正。
 - nvram フォルダ「zip名_9」の削除に対応。

build 267:
 - 公式ソースの mess.flt を取得して MESS ドライバを非表示にする機能追加（テスト版）。
 - ゲームのフィルタリング部分をかなり書き直し。

build 266: 
 - ソフトウェアリストのウィンドウをメインウインドウにスナップする機能追加。

build 265: 
 - ソフトウェアリストのテストサポート。動作が不安定な可能性があります。機能をオフにするには
   softlists フォルダを削除してから起動してください。

build 264: 20210404
 - オプションやパスの最大文字数増加。

build 263: 20210320
 - EMMAサイトが404なのでサポートを削除。

build 262: 20201013
 - インデックスのエラーが起こるのを修正。

build 261: 20200517
 - 本体の更新があるかどうかを確認してダウンロードページに飛ぶ機能追加。

build 260: 20200317
 - クラウドから mameinfo.dat を取得、解凍、保存する機能のテスト版追加。
 - 保存先の指定ディレクトリが存在しないときは、ディレクトリを作ってから保存するよう修正。

build 259: 20200305
 - クラウドから mame32j.lst と version.ini を更新する機能のテスト版追加。

build 258: 20191220
 - 257での起動不具合を修正。

build 257: 20191219
 - コマンドプロンプトを残して起動する場合に相対パスでも動作するよう改良。

build 256: 20191204
 - ゲームリスト更新時に絞り込みがリセットされないのを修正。

build 255: 20191031
 - 言語切替時にサブリストが更新されないのを修正。

build 254: 20190929
 - クローンセットが大量にある場合、サブリストの更新が遅くなるので、サブリストを仮想リストビュー化。

build 253:
 - バグ修正。

build 252: 20190305
 - コンパイラを更新。
 - 細かい修正。

build 251: 20180831
 - 起動処理の高速化（0.3秒くらい）。
 - EMMA検索で開くページを変更。

build 250: 20180725
 - EMMAで検索する機能追加。

build 249: 20180708
 - ディレクトリ設定が反映されない不具合修正。

build 248: 20180608
 - ジョイパッドで二重起動することがある（らしい）ので、一回起動後0.5秒はボタン入力を無効化するように変更。
   うまくいくかは不明。

build 247: 20180606
 - 新型お気に入り機能のテスト実装。
   - お気に入りは favorites.ini ファイルに保存（今後 retrofire.ini に統合するかも）。
   - フォルダは1階層のみ。フォルダ名の変更はフォルダをシングルクリックする。
   - 並べ替えはドラッグで行う。条件によってはフォルダからゲームを出せなくなる場合があるので、フォルダから出すボタンをクリック。
   - 大量の項目を処理するようにはできていないので、そういうのがほしいなら自分で作れ。
 - history.dat、mameinfo.datの読み込み時、エンコードを UTF-8 に決め打ち。

build 246: 20180317
 - list.xmlの新しい動作ステータス出力に対応（グラフィック表示、パレット、プロテクト、画面反転の対応状況表示）。
 - CPUとサウンドチップの文字列のHTMLエスケープ文字を正しく処理。
  
build 245: 20180129
 - 年度情報を上書きするyear.datのサポート終了。
 - 0.194の情報に更新。

build 244: 20170902
 - コンパイル環境を最新版に入れ替え。それに伴う調整いろいろ。
 - 横2画面ゲームとピンボールのスクリーンショットが正しい比率で表示されるように設定。
 - 0.189の情報に更新。

build 243: 20170630
 - クローンセットを選択したとき、親セットのmameinfo情報が表示されなかったのを修正。

build 242: 20170518
 - ヒストリー欄の縦スクロールバー表示切り替えがうまく行ってなかったのを修正。
 - スクリーンショットの縦サイズを自由に変更できるように改良(画像欄の下部分をスライドする)。

build 241: 20170210
 - ジョイスティック選択でPOV(ハットスイッチ)の入力も使用するかの選択オプションを追加。
   POVなしのジョイパッドなどで常時POVが押しっぱなしになるものがあるため。

build 240: 20161105
 - listxmlを出力して情報を取得するとき、本体のパスに空白文字があるとエラーになるのを修正。

build 239: 20161104
 - datフォルダ設定をcommand.dat、year.datにも適用。デフォルトを「dats」フォルダに変更。
   (設定の変更方法: [設定]→[ディレクトリ設定...]→「datファイル」)
   これまではhistory.datとmameinfo.datのみの設定で、command.datとyear.datは本体と同じ場所のみだった。

build 238: 20161017
 - 起動を30%高速化（2.4秒から1.6秒）。
 - ゲーム選択時の情報表示を高速化（スクロールするとわかる）。
 - ゲーム情報などを保持するファイル名をretrofire.resからretorfire.dataに変更。
   起動時にretrofire.resがあれば自動で改名します。
 - ROM存在情報の保存形式を変更したので再スキャンしてください。
 - version.iniにv0.1〜v0.37b16のバージョン情報を追加。

build 237: 
 - ジョイスティック選択にPOVスイッチ上下も対応。
 - 情報パネルの表示・非表示機能追加。

Build 236: 0.177での不具合に対応。0.177の情報に更新。
Build 235: 0.176対応。本体バージョン番号の取得を改良。
Build 234: MAME終了時にコマンドプロンプトが閉じないような起動オプション追加。
Build 233: コマンドビューアのサイズを固定。0.174のデータに対応。
Build 232: command.datの表示をサポート（ベータ版）。
Build 231: F4キーでソースのGithubページ表示。7z拡張子対応。不具合対策少し。0.173のゲーム名とversion.iniに対応。ギャンブルゲームフィルタ強化。
Build 230: 0.162の新フォーマットにとりあえず対応（旧フォーマットでも動作可）。
